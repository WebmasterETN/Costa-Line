@use 'sass:map';
@use 'sass:color';

@use '../core' as*;
@use '../_01-settings/variables' as *;
@use '../_02-tools/mixin' as *;

// Import components
@use '../_06-components/header';
@use '../_06-components/footer';
@use '../_06-components/button-whats';
@use '../_06-components/button-eva-trip';
@use '../_06-components/modal-doters';
@use '../_06-components/modalDoters';
@use '../_06-components/cotiza';
@use '../_06-components/cookies-policy';


// Import utilities
@use '../_07-utilities/utilities';

// ===== COMPONENTES REUTILIZABLES =====

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: 3rem; // h-12
    padding: 0 1.5rem; // px-6
    border-radius: 0.5rem; // rounded-lg
    font-size: 1rem; // text-base
    font-weight: 700; // font-bold
    letter-spacing: 0.015em;
    cursor: pointer;
    border: none;
    transition: background-color 0.2s ease;
    overflow: hidden;

    &--primary {
        background-color: $primary-color;
        color: white;

        &:hover {
            background-color: color.adjust($primary-color, $lightness: 5%);
        }
    }

    &--light {
        background-color: white;
        color: $primary-color;

        &:hover {
            background-color: rgba(255, 255, 255, 0.9);
        }
    }
}

.container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    max-width: 64rem; // max-w-5xl

    &--narrow {
        max-width: 48rem; // max-w-3xl
    }
}

.content-section {
    padding: 2.5rem 1rem; // py-10 px-4

    @media (min-width: map.get($breakpoints, "md")) {
        padding: 4rem 2.5rem;
    }

    // md:py-16 md:px-10
    @media (min-width: map.get($breakpoints, "lg")) {
        padding: 4rem 5rem;
    }

    // lg:px-20
    @media (min-width: map.get($breakpoints, "xl")) {
        padding: 4rem 10rem;
    }

    // xl:px-40

    &--light {
        background-color: $light-bg;

        body.dark & {
            background-color: $dark-bg;
        }
    }

    &--darker {
        background-color: $white;

        body.dark & {
            background-color: rgba($dark-bg, 0.8);
        }
    }
}

.section-title {
    font-size: 1.875rem; // text-3xl
    font-weight: 700;
    color: $primary-color;
    text-align: center;
    padding-bottom: 2rem; // pb-8
    padding-top: 3rem; // pt-12 (del divider)
    letter-spacing: -0.015em;
    line-height: 1.2;

    @media (min-width: map.get($breakpoints, "md")) {
        font-size: 2.25rem; // md:text-4xl
    }

    body.dark & {
        color: $secondary-color;
    }
}

.divider {
    border: 0;
    border-top: 1px solid $light-border-landing;

    body.dark & {
        border-color: $light-text-subtle;
    }
}

// ===== SECCIÓN HERO =====

.hero {
    display: flex;
    min-height: 75vh;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    margin-top: 0vh;
    text-align: center;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    @media (min-width: map.get($breakpoints, "md")) {
        min-height: 80vh;
        margin-top: 20vh;
    }

    &__content {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    &__title {
        color: white;
        font-size: 3rem; // text-5xl
        font-weight: 900; // font-black
        line-height: 1.1; // leading-tight
        letter-spacing: -0.05em; // tracking-tighter
        margin: 0;

        @media (min-width: map.get($breakpoints, "md")) {
            font-size: 4.5rem; // md:text-7xl
        }
    }

    &__subtitle {
        color: white;
        font-size: 1.125rem; // text-lg
        font-weight: 400;
        line-height: 1.6;
        max-width: 48rem; // max-w-3xl
        margin: 0 auto;

        @media (min-width: map.get($breakpoints, "md")) {
            font-size: 1.25rem; // md:text-xl
        }
    }

    .btn {
        margin-top: 1rem; // mt-4
    }
}

// ===== SECCIÓN CONTENIDO =====

.intro-text {
    font-size: 1.125rem; // text-lg
    line-height: 1.75; // leading-relaxed
    text-align: center;
    padding-bottom: 2rem; // pb-8
    color: $light-text;

    body.dark & {
        color: $dark-text-base;
    }
}

// --- Lista de Lugares (con Container Query) ---
.place-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
}

.place-card-wrapper {
    padding: 1rem;
    container-type: inline-size; // Habilita @container
}

.place-card {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    border-radius: 0.75rem; // rounded-xl
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    background-color: $white;
    overflow: hidden;

    body.dark & {
        background-color: rgba($dark-bg, 0.5);
    }

    // @xl:flex-row
    @container (min-width: #{$container-xl}) {
        flex-direction: row;
        align-items: flex-start;
    }
}

.place-card__image {
    height: 100%;
    aspect-ratio: 1 / 1; // aspect-square
    flex-shrink: 0; // Evita que la imagen se encoja
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border-radius: 0.5rem; // rounded-lg

    // @xl:w-1/3 @xl:aspect-square
    @container (min-width: #{$container-xl}) {
        width: 23.3333%;
        flex-shrink: 0; // Evita que la imagen se encoja
    }
}

.place-card__content {
    display: flex;
    flex-grow: 1;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 0.5rem; // gap-2
    padding: 1.5rem; // p-6
    min-width: 18rem; // min-w-72
}

.place-card__title {
    font-size: 1.5rem; // text-2xl
    font-weight: 700;
    color: $primary-color;
    margin: 0;

    body.dark & {
        color: white;
    }
}

.place-card__description {
    font-size: 1rem; // text-base
    line-height: 1.75; // leading-relaxed
    color: $light-text;
    margin: 0;

    body.dark & {
        color: rgba($dark-text-base, 0.8);
    }
}

// --- Grid de Comida ---
.food-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    text-align: center;

    @media (max-width: map.get($breakpoints, 'md')) {
        grid-template-columns: 1fr;
    }
}

.food-card {
    display: flex;
    flex-direction: column;
    align-items: center;

    &__image {
        width: 100%;
        height: 12rem; // h-48
        object-fit: cover;
        border-radius: 0.5rem; // rounded-lg
        margin-bottom: 1rem; // mb-4
    }

    &__title {
        font-size: 1.25rem; // text-xl
        font-weight: 700;
        color: $light-text;
        margin: 0;

        body.dark & {
            color: white;
        }
    }

    &__description {
        color: rgba($light-text, 0.8);
        margin-top: 0.5rem;

        body.dark & {
            color: rgba($dark-text-base, 0.8);
        }
    }
}

// --- Acordeón de FAQ / Tips ---
.faq-list {
    display: flex;
    flex-direction: column;
    gap: 1rem; // space-y-4
}

.faq-item {
    padding: 1rem; // p-4
    border-radius: 0.5rem; // rounded-lg
    background-color: $white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);

    body.dark & {
        background-color: rgba($dark-bg, 0.5);
    }

    &__summary {
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
        font-size: 1.125rem; // text-lg
        font-weight: 700;
        color: $primary-color;
        list-style: none; // Oculta flecha de <details>

        &::-webkit-details-marker {
            display: none;
        }

        body.dark & {
            color: white;
        }
    }

    &__icon {
        transition: transform 0.3s ease;
    }

    &[open]>.faq-item__summary .faq-item__icon {
        transform: rotate(180deg);
    }

    &__answer {
        display: grid;
        grid-template-rows: 0fr;
        transition: grid-template-rows 0.3s ease-in-out, margin-top 0.3s ease-in-out;
        color: rgba($light-text, 0.8);

        body.dark & {
            color: rgba($dark-text-base, 0.8);
        }

        >div {
            overflow: hidden;
        }
    }

    &[open] .faq-item__answer {
        grid-template-rows: 1fr;
        margin-top: 0.5rem;
    }
}

// ===== SECCIÓN CTA FINAL =====

.cta-section {
    padding: 2.5rem 1rem;
    text-align: center;
    background-color: $primary-color;

    @media (min-width: map.get($breakpoints, "md")) {
        padding: 4rem 2.5rem;
    }

    @media (min-width: map.get($breakpoints, "lg")) {
        padding: 4rem 5rem;
    }

    @media (min-width: map.get($breakpoints, "xl")) {
        padding: 4rem 10rem;
    }

    body.dark & {
        background-color: color.adjust($primary-color, $lightness: 5%);
    }

    &__title {
        color: white;
        font-size: 1.875rem;
        font-weight: 700;
        line-height: 1.2;
        margin: 0;

        @media (min-width: map.get($breakpoints, "md")) {
            font-size: 2.25rem;
        }
    }

    &__text {
        color: rgba(255, 255, 255, 0.9);
        font-size: 1.125rem; // text-lg
        margin: 1rem auto 2rem; // mt-4 mb-8
        max-width: 42rem; // max-w-2xl
    }

    .btn {
        margin: 0 auto; // mx-auto
    }
}